<div class="grid-container" *ngIf="player">
    <div class="margin-20 generic-info">
        <div>
            <profile-icon [icon]="player.profileIcon"></profile-icon>
        </div>
        <div><span class="flag-icon flag-icon-{{player.countryCode}} flag-icon-squared"></span>&nbsp;{{player.name}}</div>
        <div>{{player.stats.winLoseStats.wins}} - {{player.stats.winLoseStats.loses}} | {{player.stats.winrate}}%</div>
        <div>Current streak: {{player.stats.winStreak}}</div>
        <div>
            <gw-weekdays-stats [stats]="player.stats.daysStats"></gw-weekdays-stats>
        </div>
        <br/>
        <br/>
        <div>
            <div style="padding-left: 24px;">
                <div style="padding: 4px;">
                    <table>
                        <thead>
                            <th>Player</th>
                            <th>Total games</th>
                            <th>Winrate</th>
                        </thead>
                        <tbody>
                            <tr class="bordered">
                                <td style="text-align: right;border-bottom: solid 1px;border-top: solid 1px;" colspan="3" class="subheading-2">Top 5 teammates by winrate</td>
                            </tr>
                            <tr class="bordered" *ngFor="let teammate of player.stats.top3TeammatesByWinrate">
                                <td style="text-align: right;">{{teammate.player.name}}</td>
                                <td style="text-align: right;">{{teammate.totalGames}}</td>
                                <td style="text-align: right;">{{teammate.winrate}}%</td>
                            </tr>
                            <tr class="bordered">
                                <td style="text-align: right;border-bottom: solid 1px;border-top: solid 1px;" colspan="3" class="subheading-2">Top 5 teammates by games played</td>
                            </tr>
                            <tr class="bordered" *ngFor="let teammate of player.stats.top3TeammatesByGamesPlayed">
                                <td style="text-align: right;">{{teammate.player.name}}</td>
                                <td style="text-align: right;">{{teammate.totalGames}}</td>
                                <td style="text-align: right;">{{teammate.winrate}}%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>

    </div>
    <div class="margin-20 history-statistics">
        <div>
            <table class="history-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Opponent</th>
                        <th>VP</th>
                        <th>Result</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let match of player.history">
                        <td>{{match.date | date: 'yyyy-MM-dd'}}</td>
                        <td>{{match.opponent}}</td>
                        <td>{{getPlayerVP(match)}}</td>
                        <td>
                            <span class="result" [ngClass]="{'result-victory': match.result == 1, 'result-defeat': match.result != 1}">
                                {{match.result == 1 ? 'Victory': 'Defeat'}}
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="margin-20 chart-container">
        <div>3</div>
    </div>
    <div class="margin-20 stats-container">
        <div>4</div>
    </div>
</div>